!function(){"use strict";const e=e=>"object"===typeof e&&null!==e,t=t=>e(t)&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date),s=Symbol("mapObjectSkip"),i=(e,r,n,o=new WeakMap)=>{if(n={deep:!1,target:{},...n},o.has(e))return o.get(e);o.set(e,n.target);const{target:a}=n;delete n.target;const c=e=>e.map((e=>t(e)?i(e,r,n,o):e));if(Array.isArray(e))return c(e);for(const[l,h]of Object.entries(e)){const p=r(l,h,e);if(p===s)continue;let[d,u,{shouldRecurse:f=!0}={}]=p;"__proto__"!==d&&(n.deep&&f&&t(u)&&(u=Array.isArray(u)?c(u):i(u,r,n,o)),a[d]=u)}return a};function r(t,s,r){if(!e(t))throw new TypeError(`Expected an object, got \`${t}\` (${typeof t})`);return i(t,s,r)}const n=/[\p{Lu}]/u,o=/[\p{Ll}]/u,a=/^[\p{Lu}](?![\p{Lu}])/gu,c=/([\p{Alpha}\p{N}_]|$)/u,l=/[_.\- ]+/,h=new RegExp("^"+l.source),p=new RegExp(l.source+c.source,"gu"),d=new RegExp("\\d+"+c.source,"gu");function u(e,t){if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const s=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),i=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);if(1===e.length)return l.test(e)?"":t.pascalCase?i(e):s(e);return e!==s(e)&&(e=((e,t,s,i)=>{let r=!1,a=!1,c=!1,l=!1;for(let h=0;h<e.length;h++){const p=e[h];l=!(h>2)||"-"===e[h-3],r&&n.test(p)?(e=e.slice(0,h)+"-"+e.slice(h),r=!1,c=a,a=!0,h++):a&&c&&o.test(p)&&(!l||i)?(e=e.slice(0,h-1)+"-"+e.slice(h-1),c=a,a=!1,r=!0):(r=t(p)===p&&s(p)!==p,c=a,a=s(p)===p&&t(p)!==p)}return e})(e,s,i,t.preserveConsecutiveUppercase)),e=e.replace(h,""),e=t.preserveConsecutiveUppercase?((e,t)=>(a.lastIndex=0,e.replaceAll(a,(e=>t(e)))))(e,s):s(e),t.pascalCase&&(e=i(e.charAt(0))+e.slice(1)),((e,t)=>(p.lastIndex=0,d.lastIndex=0,e.replaceAll(d,((s,i,r)=>["_","-"].includes(e.charAt(r+s.length))?s:t(s))).replaceAll(p,((e,s)=>t(s)))))(e,i)}class f extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"===typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"===typeof this.onEviction)for(const[t,s]of e)this.onEviction(t,s.value)}_deleteIfExpired(e,t){return"number"===typeof t.expiry&&t.expiry<=Date.now()&&("function"===typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const s=t.get(e);return this._getItemValue(e,s)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,s]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,s)&&(yield e)}}for(const e of this.cache){const[t,s]=e;!1===this._deleteIfExpired(t,s)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:s=this.maxAge}={}){const i="number"===typeof s&&s!==Number.POSITIVE_INFINITY?Date.now()+s:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:i}):this._set(e,{value:t,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],s=t.length-e;s<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(s>0&&this._emitEvictions(t.slice(0,s)),this.oldCache=new Map(t.slice(s)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,s]=e;!1===this._deleteIfExpired(t,s)&&(yield[t,s.value])}for(const e of this.oldCache){const[t,s]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,s)&&(yield[t,s.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const s=e[t],[i,r]=s;!1===this._deleteIfExpired(i,r)&&(yield[i,r.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const s=e[t],[i,r]=s;if(!this.cache.has(i)){!1===this._deleteIfExpired(i,r)&&(yield[i,r.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[s,i]of this.entriesAscending())e.call(t,i,s,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const m=new f({maxSize:1e5}),g=e=>"object"===typeof e&&null!==e&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),x=(e,t={})=>{if(!g(e))return e;const{exclude:s,pascalCase:i=!1,stopPaths:n,deep:o=!1,preserveConsecutiveUppercase:a=!1}=t,c=new Set(n),l=e=>(t,n)=>{if(o&&g(n)){const s=void 0===e?t:`${e}.${t}`;c.has(s)||(n=r(n,l(s)))}if(!s||!((e,t)=>e.some((e=>"string"===typeof e?e===t:(e.lastIndex=0,e.test(t)))))(s,t)){const e=i?`${t}_`:t;if(m.has(e))t=m.get(e);else{const s=u(t,{pascalCase:i,locale:!1,preserveConsecutiveUppercase:a});t.length<100&&m.set(e,s),t=s}}return[t,n]};return r(e,l(void 0))};function w(e,t){return Array.isArray(e)?Object.keys(e).map((s=>x(e[s],t))):x(e,t)}class y{constructor(e="",t={}){this.name=e,this.props=t}register(){if(!window.ANSWERS)throw new Error("Yext: Answers UI SDK is not loaded.");window.ANSWERS.addComponent(this.name,this.props)}}class E extends y{constructor(e={}){super("SearchBar",e)}}var _=(e={})=>{const{cssClass:t,labelText:s,placeholderText:i,promptHeader:r,submitText:n,submitIcon:o,redirectUrl:a}=e,c=[".yext-search-bar",...t?t.split(",").map((e=>e.trim())):[]];return{register:()=>{const e=((e=[],t={})=>{const s=[];return e.forEach((e=>{const i=Array.from(document.querySelectorAll(e));if(!i.length)return s;i.forEach(((i,r)=>{const{redirectUrl:n,labelText:o,placeholderText:a,promptHeader:c,submitText:l,submitIcon:h}=i.dataset;let p=e.replace(".","");r>0&&(p=`${p}-${r}`,i.classList.remove(e.replace(".","")),i.classList.add(p));const d={container:`.${p}`,name:p,redirectUrl:n||t.redirectUrl,labelText:o||t.labelText,placeholderText:a||t.placeholderText,promptHeader:c||t.promptHeader,submitText:l||t.submitText,submitIcon:h||t.submitIcon};s.push(new E(d))}))})),s})((e=>e.filter((e=>"string"===typeof e&&e.length)).map((e=>e.includes(".")?e:`.${e}`)))(c),{labelText:s,submitText:n,submitIcon:o,placeholderText:i,promptHeader:r,redirectUrl:a});e.forEach((e=>{e.register()}))}}};var I=({config:e,components:t})=>{if(!e.apiKey||!e.experienceKey||!e.businessId)return{error:"Missing one or more required credentials: apiKey, experienceKey, businessId"};const s={apiKey:e.apiKey,experienceKey:e.experienceKey,locale:e.locale,businessId:e.businessId,templateBundle:e.templateBundle},{searchBar:{props:i}}=t;return{init:()=>new Promise(((e,t)=>{try{window.ANSWERS.init({...s,onReady:async()=>{await(async()=>{_(i).register()})(),e()}})}catch(e){console.error(`Yext: Error initializing Answers UI SDK: ${e}`),t()}}))}};window.addEventListener("DOMContentLoaded",(()=>{(()=>{if(!window.YEXT)throw new Error("Yext: Missing plugin configuration options.");if(!window.ANSWERS)throw new Error("Yext: Answers UI SDK is not loaded.");if(!window.TemplateBundle)throw new Error("Yext: Answers UI SDK template bundle not loaded.");const{config:e,components:t}=window.YEXT.settings||{};if(!e||!t)throw new Error("Yext: Valid Answers configuration settings not found");const s=I({config:{...w(e),templateBundle:window.TemplateBundle},components:w(t,{deep:!0})});s.error||s.init()})()}))}();